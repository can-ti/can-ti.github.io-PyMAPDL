.. _versions_and_interfaces:

=======================
Versions and interfaces
=======================

PyMAPDL 项目试图保持与旧版 MAPDL 的兼容性，同时支持与最新版 MAPDL 更快更好的接口。

PyMAPDL 可以使用三个接口来连接 MAPDL。您可以在 `支持的版本表 <table_versions_>`_ 中看到一个包含 MAPDL 版本和支持的接口的表格。

gRPC interface
==============

这是连接 MAPDL 的默认和首选接口。Ansys 2020 R1 及更高版本支持最新的 `gRPC 接口 <grpc_>`_ ，允许远程管理 MAPDL，从 MAPDL 服务快速流式传输网格、结果和文件。

该界面还可与 Docker 映像一起使用。如果您拥有适用的许可证，就可以在 Docker 中安装和使用 MAPDL，即使在官方不支持的平台（如 Mac OS）上也能运行和解决问题。更多信息，请参阅 :ref:`pymapdl_docker` 。


Legacy interfaces
=================

CORBA interface
---------------

.. warning:: PyMAPDL 0.68 废弃了该接口。


.. vale off

Ansys 17.0 支持传统 CORBA 接口，可通过 `ansys.mapdl.corba <https://github.com/ansys/pymapdl-corba>`_ 模块启用。

.. vale on

通过该接口，您可以仅向 MAPDL 服务发送文本，也可以从 MAPDL 服务发送文本，所有其他操作都依赖于文件 IO。
虽然性能不如 gRPC，但该接口仍允许您控制 MAPDL 的本地实例。这些版本的 MAPDL 支持特定版本的 Windows 和 Linux。有关支持平台的更多信息，请参阅 `Ansys 平台支持 <ansys_platform_support_>`_ 。 


CORBA 接口是一个过时的接口，不建议使用。建议使用 gRPC 接口，因为它更快、更稳定，而且可以在本地和远程连接配置中运行。

Deprecation of CORBA Interface in PyMAPDL
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. warning:: This interface has been deprecated with PyMAPDL 0.68.

从 PyMAPDL 库的 v0.67 版开始，CORBA 接口就被设置为弃用，而在 v.68 版中，它已从 PyMAPDL 中完全删除。做出这一决定的原因是 CORBA 库不支持 Python 3.8 以上的版本。

**需要操作：** 如果您目前依赖 CORBA 接口，建议您在迁移到 PyMAPDL v0.67 或更高版本时计划替换 CORBA 接口。在启动 MAPDL 时指定一个不同的模式就足够了。PyMAPDL 维护者理解这一变更可能会影响到某些用户，并对可能造成的不便表示歉意。

**为什么会发生这种情况？** 随着 Python 生态系统的发展，保持与过时库的兼容性变得越来越具有挑战性。通过移除 CORBA 接口，PyMAPDL 与现代 Python 环境保持兼容，使维护者能够在未来提供更好的功能和支持。

**什么时候发生这种情况？** 弃用过程设置为从版本v0.66开始，并应在版本v0.68完成。虽然拆除的确切时间还没有确定，但有必要为最终的弃用做准备。

**替代解决方案：** 对于需要类似功能的用户，建议探索 PyMAPDL 中可用的替代接口。

PyMAPDL 维护者非常感激您在此过渡期间的支持和理解。如果您对这一变更有任何问题或疑虑，请将它们发布到 `PyMAPDL Discussions <pymapdl_discussions_>`_ 页面上。


Console interface
-----------------

PyMAPDL 项目使用控制台接口支持 Linux 上最早 13.0 的 Ansys 版本。与 CORBA 一样，控制台接口允许在 Ansys 实例之间交换文本。

由于特定于控制台的支持在某些时候会被淘汰，因此您应该转向现代版本的 Ansys 以继续使用 PyMAPDL。


Compatibility between MAPDL and interfaces
==========================================

下表列出了 PyMAPDL 支持的 Ansys 版本和每个版本的推荐接口。


**支持的版本表**

.. _table_versions:

+---------------------------+------------------------+-----------------------------------------------------------------------+
|      Ansys version        |  Recommended interface | Support                                                               |
|                           |                        +-----------------------+-----------------------+-----------------------+
|                           |                        | gRPC                  | CORBA                 | Console (Only Linux)  |
+===========================+========================+=======================+=======================+=======================+
| Ansys 2023 R1             | gRPC                   | |:heavy_check_mark:|  | |:heavy_minus_sign:|  | |:heavy_minus_sign:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2022 R2             | gRPC                   | |:heavy_check_mark:|  | |:heavy_minus_sign:|  | |:heavy_minus_sign:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2022 R1             | gRPC                   | |:heavy_check_mark:|  | |:heavy_minus_sign:|  | |:heavy_minus_sign:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2021 R2             | gRPC                   | |:heavy_check_mark:|  | |:heavy_check_mark:|  | |:heavy_minus_sign:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2021 R1             | gRPC                   | |:heavy_check_mark:|  | |:heavy_check_mark:|  | |:heavy_minus_sign:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2020 R2             | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2020 R1             | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2019 R3             | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2019 R2             | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 2019 R1             | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 19.2                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 19.1                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 19.0                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 18.2                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 18.1                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 18.0                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 17.2                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 17.1                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 17.0                | CORBA                  | |:x:|                 | |:heavy_check_mark:|  | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Ansys 16.2                | Console                | |:x:|                 | |:x:|                 | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+
| Older up to Ansys 13.0    | Console                | |:x:|                 | |:x:|                 | |:heavy_check_mark:|  |
+---------------------------+------------------------+-----------------------+-----------------------+-----------------------+

Where:

* |:heavy_check_mark:| 表示支持并推荐使用该接口。
* |:heavy_minus_sign:| 表示支持该接口，但不推荐使用。将来可能会放弃对它们的支持。
* |:x:| 表示不支持该接口。


MAPDL-supported operative systems
=================================

您可以在 Ansys 网站的 `平台支持 <ansys_platform_support_>`_ 页面上获取支持 MAPDL 的操作系统列表。

或者，您可以 `下载 <ansys_current_supported_os_>`_ 当前版本的列表。